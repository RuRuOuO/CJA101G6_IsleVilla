<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>æ¥é§ç­æ¬¡æŸ¥è©¢</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<th:block th:replace="~{fragments/backFragments :: styles}"></th:block>

<style>
.form-vertical {
	display: flex;
	flex-direction: column;
	gap: 12px;
	max-width: 400px;
}

.form-vertical label {
	font-weight: bold;
}

.button-group {
	display: flex;
	gap: 12px;
	margin-top: 12px;
}

.button-group {
	display: flex;
	gap: 12px;
	margin-top: 12px;
	margin-bottom: 16px; /* âœ… æ–°å¢é€™è¡Œ */
}
</style>
</head>

<body>
	<div th:replace="~{fragments/backFragments :: mobileSidebar}"></div>
	<div th:replace="~{fragments/backFragments :: sidebar}"></div>

	<main
		th:replace="~{fragments/backFragments :: mainContent(~{::myContent})}">
		<th:block th:fragment="myContent">

			<h2 class="mb-4">ğŸ” æ¥é§ç­æ¬¡æŸ¥è©¢</h2>

			<!-- æŸ¥è©¢è¡¨å–® -->
			<form method="get" th:action="@{/shuttle/getshuttle}"
				class="form-vertical">

				<!-- å»ç¨‹ -->
				<div>
					<label for="departureId">å»ç¨‹ç­æ¬¡ï¼š</label> <select class="form-select"
						id="departureId" name="departureId">
						<option value="">è«‹é¸æ“‡å»ç¨‹ç­æ¬¡</option>
						<option th:each="shuttle : ${departureShuttles}"
							th:value="${shuttle.shuttleScheduleId}"
							th:text="'ç­æ¬¡ ' + ${shuttle.shuttleScheduleId} + ' | å‡ºç™¼ ' + ${shuttle.shuttleDepartureTime}"
							th:selected="${shuttle.shuttleScheduleId == selectedDepartureId}">
						</option>
					</select>
				</div>

				<!-- å›ç¨‹ -->
				<div>
					<label for="returnId">å›ç¨‹ç­æ¬¡ï¼š</label> <select class="form-select"
						id="returnId" name="returnId">
						<option value="">è«‹é¸æ“‡å›ç¨‹ç­æ¬¡</option>
						<option th:each="shuttle : ${returnShuttles}"
							th:value="${shuttle.shuttleScheduleId}"
							th:text="'ç­æ¬¡ ' + ${shuttle.shuttleScheduleId} + ' | å‡ºç™¼ ' + ${shuttle.shuttleDepartureTime}"
							th:selected="${shuttle.shuttleScheduleId == selectedReturnId}">
						</option>
					</select>
				</div>

				<!-- æŒ‰éˆ• -->
				<div class="button-group">
					<button type="submit" class="btn btn-primary">æŸ¥è©¢</button>
					<a class="btn btn-secondary" th:href="@{/shuttle/getshuttle}">æ¸…é™¤æŸ¥è©¢</a>
					<a class="btn btn-secondary" th:href="@{/shuttle/list}">è¿”å›åˆ—è¡¨</a>
				</div>


			</form>

			<!-- æŸ¥è©¢çµæœ -->
			<div th:if="${departureShuttle != null || returnShuttle != null}"
				class="card p-4 mt-4">
				<h4>æŸ¥è©¢çµæœ</h4>
				<table class="table table-bordered">
					<thead>
						<tr>
							<th>é¡å‹</th>
							<th>ç­æ¬¡ID</th>
							<th>æ–¹å‘</th>
							<th>å‡ºç™¼æ™‚é–“</th>
							<th>æŠµé”æ™‚é–“</th>
						</tr>
					</thead>
					<tbody>
						<tr th:if="${departureShuttle != null}">
							<td>å»ç¨‹</td>
							<td th:text="${departureShuttle.shuttleScheduleId}"></td>
							<td>å»ç¨‹</td>
							<td th:text="${departureShuttle.shuttleDepartureTime}"></td>
							<td th:text="${departureShuttle.shuttleArrivalTime}"></td>
						</tr>
						<tr th:if="${returnShuttle != null}">
							<td>å›ç¨‹</td>
							<td th:text="${returnShuttle.shuttleScheduleId}"></td>
							<td>å›ç¨‹</td>
							<td th:text="${returnShuttle.shuttleDepartureTime}"></td>
							<td th:text="${returnShuttle.shuttleArrivalTime}"></td>
						</tr>
					</tbody>
				</table>
			</div>

			<!-- éŒ¯èª¤è¨Šæ¯ -->
			<div th:if="${errorMsg != null}" class="alert alert-danger mt-3">
				<p th:text="${errorMsg}"></p>
			</div>

		</th:block>
	</main>
</body>
</html>
