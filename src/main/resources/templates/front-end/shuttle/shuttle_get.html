<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>æ¥é§ç­æ¬¡æŸ¥è©¢</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<th:block th:replace="~{fragments/backFragments :: styles}"></th:block>

<style>
    .form-inline {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 8px;
    }
    .form-inline select {
        width: auto;
        min-width: 300px;
    }
</style>
</head>
<body>
	<div th:replace="~{fragments/backFragments :: mobileSidebar}"></div>
	<div th:replace="~{fragments/backFragments :: sidebar}"></div>

	<main th:replace="~{fragments/backFragments :: mainContent(~{::myContent})}">
		<th:block th:fragment="myContent">

			<h2 class="mb-4">ğŸ” æ¥é§ç­æ¬¡æŸ¥è©¢</h2>

			<!-- æŸ¥è©¢è¡¨å–® -->
			<form method="get" th:action="@{/shuttle/getshuttle}" class="form-inline mb-4">
				<label for="shuttleId" class="form-label mb-0">é¸æ“‡ç­æ¬¡ï¼š</label>

				<select class="form-select" id="shuttleId" name="shuttleId">
					<option value="">è«‹é¸æ“‡ç­æ¬¡</option>
					<option th:each="shuttle : ${allShuttleSchedules}"
						th:value="${shuttle.shuttleScheduleId}"
						th:text="'ç­æ¬¡ ' + ${shuttle.shuttleScheduleId} + ' | ' 
				                + (${shuttle.shuttleDirection} == 0 ? 'å»ç¨‹' : 'å›ç¨‹') 
				                + ' | å‡ºç™¼ ' + ${shuttle.shuttleDepartureTime} 
				                + ' | æŠµé” ' + ${shuttle.shuttleArrivalTime}"
						th:selected="${shuttle.shuttleScheduleId == selectedShuttleId}">
					</option>
				</select>

				<button type="submit" class="btn btn-primary">æŸ¥è©¢</button>
			</form>
			<div class="mb-3">
            <a class="btn btn-secondary" th:href="@{/shuttle/list}">
                è¿”å›åˆ—è¡¨
            </a>
        </div>

			<!-- æŸ¥è©¢çµæœ -->
			<div th:if="${shuttle != null}" class="card p-4">
				<h4>æŸ¥è©¢çµæœ</h4>
				<table class="table">
					<tr>
						<th>ç­æ¬¡ç·¨è™Ÿ</th>
						<td th:text="${shuttle.shuttleScheduleId}"></td>
					</tr>
					<tr>
						<th>æ–¹å‘</th>
						<td th:text="${shuttle.shuttleDirection == 0 ? 'å»ç¨‹' : 'å›ç¨‹'}"></td>
					</tr>
					<tr>
						<th>å‡ºç™¼æ™‚é–“</th>
						<td th:text="${shuttle.shuttleDepartureTime}"></td>
					</tr>
					<tr>
						<th>æŠµé”æ™‚é–“</th>
						<td th:text="${shuttle.shuttleArrivalTime}"></td>
					</tr>
				</table>
			</div>

			<!-- éŒ¯èª¤è¨Šæ¯ -->
			<div th:if="${errorMsg != null}" class="alert alert-danger">
				<p th:text="${errorMsg}"></p>
			</div>

		</th:block>
	</main>
</body>
</html>
